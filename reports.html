<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reports - Fund Monitoring System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            font-size: 28px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logout-btn {
            background: rgba(255,255,255,0.2);
            border: 2px solid white;
            color: white;
            padding: 10px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .logout-btn:hover {
            background: white;
            color: #667eea;
        }

        /* Report Content */
        .report-content {
            padding: 30px;
        }

        /* Filter Section */
        .filter-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 2px solid #e9ecef;
        }

        .filter-title {
            font-size: 20px;
            font-weight: bold;
            color: #333;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .filter-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .filter-group label {
            font-weight: 600;
            color: #555;
            font-size: 14px;
        }

        .filter-group select,
        .filter-group input {
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .filter-group select:focus,
        .filter-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .filter-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #28a745;
            color: white;
        }

        .btn-secondary:hover {
            background: #218838;
            transform: translateY(-2px);
        }

        .btn-tertiary {
            background: #17a2b8;
            color: white;
        }

        .btn-tertiary:hover {
            background: #138496;
            transform: translateY(-2px);
        }

        /* Executive Summary Cards */
        .summary-section {
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 22px;
            font-weight: bold;
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .summary-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }

        .summary-card:hover {
            transform: translateY(-5px);
        }

        .summary-card.green {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
        }

        .summary-card.red {
            background: linear-gradient(135deg, #dc3545 0%, #fd7e14 100%);
        }

        .summary-card.orange {
            background: linear-gradient(135deg, #fd7e14 0%, #ffc107 100%);
        }

        .summary-card.blue {
            background: linear-gradient(135deg, #17a2b8 0%, #3498db 100%);
        }

        .card-label {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 10px;
        }

        .card-value {
            font-size: 28px;
            font-weight: bold;
        }

        /* Tables */
        .table-container {
            overflow-x: auto;
            margin-bottom: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
        }

        thead {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        th {
            padding: 15px;
            text-align: left;
            font-weight: 600;
            font-size: 14px;
        }

        td {
            padding: 15px;
            border-bottom: 1px solid #eee;
            font-size: 14px;
        }

        tr:hover {
            background: #f8f9fa;
        }

        .status-badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            display: inline-block;
        }

        .status-running {
            background: #d4edda;
            color: #155724;
        }

        .status-risk {
            background: #fff3cd;
            color: #856404;
        }

        .status-loss {
            background: #f8d7da;
            color: #721c24;
        }

        /* Charts */
        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .chart-container {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .chart-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 20px;
        }

        .chart-placeholder {
            width: 100%;
            height: 300px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-weight: bold;
        }

        /* Role Badge */
        .role-badge {
            background: rgba(255,255,255,0.2);
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }

            .filter-grid {
                grid-template-columns: 1fr;
            }

            .cards-grid {
                grid-template-columns: 1fr;
            }

            .charts-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Alert Box */
        .alert-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .alert-box.danger {
            background: #f8d7da;
            border-left-color: #dc3545;
        }

        /* Ratio Analysis */
        .ratio-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .ratio-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #e9ecef;
            transition: all 0.3s;
        }

        .ratio-card:hover {
            border-color: #667eea;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }

        .ratio-name {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .ratio-formula {
            font-size: 12px;
            color: #666;
            margin-bottom: 10px;
        }

        .ratio-value {
            font-size: 24px;
            font-weight: bold;
            color: #667eea;
        }

        .ratio-status {
            margin-top: 10px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>
                üìä Reports & Analytics
            </h1>
            <div style="display: flex; align-items: center; gap: 15px;">
                <span class="role-badge" id="roleBadge">Owner View</span>
                <button class="logout-btn" onclick="logout()">Logout</button>
            </div>
        </div>

        <!-- Report Content -->
        <div class="report-content">
            <!-- 1. Filter Section -->
            <div class="filter-section">
                <div class="filter-title">
                    üîç Report Filters
                </div>
                <div class="filter-grid">
                    <div class="filter-group">
                        <label>Project</label>
                        <select id="projectFilter">
                            <option value="All">All Projects</option>
                            <option value="PRJ001">PRJ001 - Residential Complex</option>
                            <option value="PRJ002">PRJ002 - Commercial Building</option>
                            <option value="PRJ003">PRJ003 - Road Construction</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Report Period</label>
                        <select id="periodFilter">
                            <option value="Monthly">Monthly</option>
                            <option value="Quarterly">Quarterly</option>
                            <option value="Yearly">Yearly</option>
                            <option value="Custom">Custom Date Range</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>From Date</label>
                        <input type="date" id="fromDate" value="2025-01-01">
                    </div>
                    <div class="filter-group">
                        <label>To Date</label>
                        <input type="date" id="toDate" value="2025-12-31">
                    </div>
                    <div class="filter-group">
                        <label>Role View</label>
                        <select id="roleFilter" onchange="changeRole()">
                            <option value="Owner">Owner</option>
                            <option value="Financer">Financer</option>
                            <option value="Labour">Labour</option>
                        </select>
                    </div>
                </div>
                <div class="filter-buttons">
                    <button class="btn btn-primary" onclick="generateReport()">
                        üîç Generate Report
                    </button>
                    <button class="btn btn-secondary" onclick="exportPDF()">
                        üìÑ Export PDF
                    </button>
                    <button class="btn btn-tertiary" onclick="exportExcel()">
                        üìä Export Excel
                    </button>
                </div>
            </div>

            <!-- 2. Executive Summary -->
            <div class="summary-section" id="executiveSummary">
                <div class="section-title">üíº Executive Summary</div>
                <div class="cards-grid">
                    <div class="summary-card green">
                        <div class="card-label">üí∞ Total Fund Received</div>
                        <div class="card-value">‚Çπ18,50,000</div>
                    </div>
                    <div class="summary-card red">
                        <div class="card-label">üìâ Total Expense</div>
                        <div class="card-value">‚Çπ12,80,000</div>
                    </div>
                    <div class="summary-card orange">
                        <div class="card-label">üë∑ Labour Cost</div>
                        <div class="card-value">‚Çπ4,80,000</div>
                    </div>
                    <div class="summary-card green">
                        <div class="card-label">üìà Net Profit</div>
                        <div class="card-value">‚Çπ5,70,000</div>
                    </div>
                    <div class="summary-card orange">
                        <div class="card-label">‚è≥ Outstanding Payables</div>
                        <div class="card-value">‚Çπ2,10,000</div>
                    </div>
                    <div class="summary-card red">
                        <div class="card-label">‚ö†Ô∏è Budget Variance</div>
                        <div class="card-value">-8%</div>
                    </div>
                </div>
            </div>

            <!-- 3. Project Financial Summary -->
            <div class="summary-section" id="projectSummary">
                <div class="section-title">üèóÔ∏è Project Financial Summary</div>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <td><strong>Operating Activities</strong></td>
                                <td>‚Çπ8,00,000</td>
                                <td>‚Çπ4,50,000</td>
                                <td style="color: green; font-weight: bold;">‚Çπ3,50,000</td>
                            </tr>
                            <tr>
                                <td><strong>Investing Activities</strong></td>
                                <td>‚Çπ0</td>
                                <td>‚Çπ2,00,000</td>
                                <td style="color: red; font-weight: bold;">-‚Çπ2,00,000</td>
                            </tr>
                            <tr>
                                <td><strong>Financing Activities</strong></td>
                                <td>‚Çπ3,00,000</td>
                                <td>‚Çπ1,20,000</td>
                                <td style="color: green; font-weight: bold;">‚Çπ1,80,000</td>
                            </tr>
                            <tr style="background: #f8f9fa; font-weight: bold;">
                                <td><strong>Net Cash Flow</strong></td>
                                <td>‚Çπ11,00,000</td>
                                <td>‚Çπ7,70,000</td>
                                <td style="color: green; font-size: 18px;">‚Çπ3,30,000</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="charts-grid">
                    <div class="chart-container">
                        <div class="chart-title">üíµ Cash In vs Cash Out (Monthly)</div>
                        <div class="chart-placeholder">Line Chart: Monthly Cash Flow Trend</div>
                    </div>
                    <div class="chart-container">
                        <div class="chart-title">üìä Cash Flow by Activity</div>
                        <div class="chart-placeholder">Bar Chart: Activity Breakdown</div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script type="module">
        // Firebase configuration
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js';
        import { getDatabase, ref, get, onValue } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js';

        const firebaseConfig = {
            apiKey: "AIzaSyBIiw1jcMGouxlpbCm1Qfack5ehBfqdASw",
            authDomain: "fund-monitering-tool.firebaseapp.com",
            databaseURL: "https://fund-monitering-tool-default-rtdb.firebaseio.com",
            projectId: "fund-monitering-tool",
            storageBucket: "fund-monitering-tool.firebasestorage.app",
            messagingSenderId: "498728137004",
            appId: "1:498728137004:web:5e79f48cc301df62a3fc89",
            measurementId: "G-1QDGE2T5LP"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);

        // Check authentication
        const currentUser = localStorage.getItem('currentUser');
        const userRole = localStorage.getItem('userRole');

        if (!currentUser || !userRole) {
            window.location.href = '/';
        }

        // Update role badge
        document.getElementById('roleBadge').textContent = userRole + ' View';
        document.getElementById('roleFilter').value = userRole;

        // Role-based visibility
        window.changeRole = function() {
            const selectedRole = document.getElementById('roleFilter').value;
            applyRoleBasedVisibility(selectedRole);
        }

        function applyRoleBasedVisibility(role) {
            // Hide/show sections based on role
            const executiveSummary = document.getElementById('executiveSummary');
            const projectSummary = document.getElementById('projectSummary');
            const fundInflow = document.getElementById('fundInflow');
            const expenseReport = document.getElementById('expenseReport');
            const labourReport = document.getElementById('labourReport');
            const outstandingReport = document.getElementById('outstandingReport');
            const ratioAnalysis = document.getElementById('ratioAnalysis');
            const cashFlow = document.getElementById('cashFlow');

            if (role === 'Owner') {
                // Owner sees everything
                executiveSummary.style.display = 'block';
                projectSummary.style.display = 'block';
                fundInflow.style.display = 'block';
                expenseReport.style.display = 'block';
                labourReport.style.display = 'block';
                outstandingReport.style.display = 'block';
                ratioAnalysis.style.display = 'block';
                cashFlow.style.display = 'block';
            } else if (role === 'Financer') {
                // Financer sees fund inflow, balance, project status
                executiveSummary.style.display = 'block';
                projectSummary.style.display = 'block';
                fundInflow.style.display = 'block';
                expenseReport.style.display = 'none';
                labourReport.style.display = 'none';
                outstandingReport.style.display = 'block';
                ratioAnalysis.style.display = 'block';
                cashFlow.style.display = 'block';
            } else if (role === 'Labour') {
                // Labour sees only their attendance, wage, payments
                executiveSummary.style.display = 'none';
                projectSummary.style.display = 'none';
                fundInflow.style.display = 'none';
                expenseReport.style.display = 'none';
                labourReport.style.display = 'block';
                outstandingReport.style.display = 'none';
                ratioAnalysis.style.display = 'none';
                cashFlow.style.display = 'none';
            }
        }

        // Apply initial role-based visibility
        applyRoleBasedVisibility(userRole);

        // Generate Report Function
        window.generateReport = async function() {
            const project = document.getElementById('projectFilter').value;
            const period = document.getElementById('periodFilter').value;
            const fromDate = document.getElementById('fromDate').value;
            const toDate = document.getElementById('toDate').value;

            // Show loading
            const btn = event.target;
            btn.textContent = '‚è≥ Generating...';
            btn.disabled = true;

            // Fetch data from Firebase
            try {
                // Simulate data fetching
                await new Promise(resolve => setTimeout(resolve, 1500));

                // In real implementation, fetch from Firebase based on filters
                // const projectsRef = ref(database, 'projects');
                // const snapshot = await get(projectsRef);
                // Process data...

                alert(`Report generated successfully!\n\nProject: ${project}\nPeriod: ${period}\nDate Range: ${fromDate} to ${toDate}`);
            } catch (error) {
                console.error('Error generating report:', error);
                alert('Error generating report. Please try again.');
            } finally {
                btn.textContent = 'üîç Generate Report';
                btn.disabled = false;
            }
        }

        // Export PDF Function
        window.exportPDF = function() {
            alert('PDF Export functionality will be implemented.\n\nThis will generate a comprehensive PDF report with all visible sections based on your role and selected filters.');
        }

        // Export Excel Function
        window.exportExcel = function() {
            alert('Excel Export functionality will be implemented.\n\nThis will generate an Excel workbook with multiple sheets for different report sections.');
        }

        // Logout Function
        window.logout = function() {
            if (confirm('Are you sure you want to logout?')) {
                localStorage.removeItem('currentUser');
                localStorage.removeItem('userRole');
                window.location.href = '/';
            }
        }

        // Load real-time data from Firebase (example)
        function loadReportData() {
            // Example: Listen to projects data
            const projectsRef = ref(database, 'projects');
            onValue(projectsRef, (snapshot) => {
                const data = snapshot.val();
                // Update UI with real data
                console.log('Projects data:', data);
            });

            // Example: Listen to expenses data
            const expensesRef = ref(database, 'expenses');
            onValue(expensesRef, (snapshot) => {
                const data = snapshot.val();
                // Update UI with real data
                console.log('Expenses data:', data);
            });

            // Add more listeners for other data types
        }

        // Initialize report data loading
        loadReportData();
    </script>
</body>
</html>
                                <th>Project</th>
                                <th>Contract Value</th>
                                <th>Fund Received</th>
                                <th>Expense</th>
                                <th>Profit</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>PRJ001</strong></td>
                                <td>‚Çπ25,00,000</td>
                                <td>‚Çπ18,50,000</td>
                                <td>‚Çπ12,80,000</td>
                                <td>‚Çπ5,70,000</td>
                                <td><span class="status-badge status-running">üü¢ Running</span></td>
                            </tr>
                            <tr>
                                <td><strong>PRJ002</strong></td>
                                <td>‚Çπ10,00,000</td>
                                <td>‚Çπ6,20,000</td>
                                <td>‚Çπ5,90,000</td>
                                <td>‚Çπ30,000</td>
                                <td><span class="status-badge status-risk">üü† Risk</span></td>
                            </tr>
                            <tr>
                                <td><strong>PRJ003</strong></td>
                                <td>‚Çπ15,00,000</td>
                                <td>‚Çπ8,00,000</td>
                                <td>‚Çπ9,20,000</td>
                                <td>-‚Çπ1,20,000</td>
                                <td><span class="status-badge status-loss">üî¥ Loss</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- 4. Fund Inflow Report -->
            <div class="summary-section" id="fundInflow">
                <div class="section-title">üíµ Fund Inflow Report</div>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Source</th>
                                <th>Project</th>
                                <th>Amount</th>
                                <th>Mode</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>15-01-2025</td>
                                <td>Financer</td>
                                <td>PRJ001</td>
                                <td>‚Çπ5,00,000</td>
                                <td>Bank Transfer</td>
                            </tr>
                            <tr>
                                <td>20-01-2025</td>
                                <td>Investor</td>
                                <td>PRJ001</td>
                                <td>‚Çπ3,00,000</td>
                                <td>Bank Transfer</td>
                            </tr>
                            <tr>
                                <td>10-02-2025</td>
                                <td>Client Billing</td>
                                <td>PRJ001</td>
                                <td>‚Çπ6,20,000</td>
                                <td>NEFT</td>
                            </tr>
                            <tr>
                                <td>25-02-2025</td>
                                <td>Financer</td>
                                <td>PRJ002</td>
                                <td>‚Çπ4,30,000</td>
                                <td>Bank Transfer</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="charts-grid">
                    <div class="chart-container">
                        <div class="chart-title">üìä Source Wise Fund Distribution</div>
                        <div class="chart-placeholder">Pie Chart: Source Breakdown</div>
                    </div>
                    <div class="chart-container">
                        <div class="chart-title">üìà Month Wise Fund Inflow</div>
                        <div class="chart-placeholder">Bar Chart: Monthly Inflow Trend</div>
                    </div>
                </div>
            </div>

            <!-- 5. Expense Report -->
            <div class="summary-section" id="expenseReport">
                <div class="section-title">üí∏ Expense Report (Category Wise)</div>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Category</th>
                                <th>Amount (‚Çπ)</th>
                                <th>Percentage (%)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Labour</strong></td>
                                <td>‚Çπ4,80,000</td>
                                <td>37%</td>
                            </tr>
                            <tr>
                                <td><strong>Material</strong></td>
                                <td>‚Çπ5,20,000</td>
                                <td>41%</td>
                            </tr>
                            <tr>
                                <td><strong>Transport</strong></td>
                                <td>‚Çπ1,10,000</td>
                                <td>9%</td>
                            </tr>
                            <tr>
                                <td><strong>Equipment</strong></td>
                                <td>‚Çπ1,00,000</td>
                                <td>8%</td>
                            </tr>
                            <tr>
                                <td><strong>Miscellaneous</strong></td>
                                <td>‚Çπ70,000</td>
                                <td>6%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="charts-grid">
                    <div class="chart-container">
                        <div class="chart-title">üç© Expense Category Distribution</div>
                        <div class="chart-placeholder">Donut Chart: Category Share</div>
                    </div>
                    <div class="chart-container">
                        <div class="chart-title">üìä Monthly Expense Trend</div>
                        <div class="chart-placeholder">Line Chart: Expense Over Time</div>
                    </div>
                </div>
            </div>

            <!-- 6. Labour Cost & Payment Report -->
            <div class="summary-section" id="labourReport">
                <div class="section-title">üë∑ Labour Cost & Payment Report</div>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Labour Name</th>
                                <th>Project</th>
                                <th>Days Worked</th>
                                <th>Payable</th>
                                <th>Paid</th>
                                <th>Balance</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Murugan</td>
                                <td>PRJ001</td>
                                <td>32</td>
                                <td>‚Çπ26,400</td>
                                <td>‚Çπ26,400</td>
                                <td style="color: green;">‚Çπ0</td>
                            </tr>
                            <tr>
                                <td>Ramesh</td>
                                <td>PRJ001</td>
                                <td>27</td>
                                <td>‚Çπ21,600</td>
                                <td>‚Çπ15,000</td>
                                <td style="color: red;">‚Çπ6,600</td>
                            </tr>
                            <tr>
                                <td>Kumar</td>
                                <td>PRJ002</td>
                                <td>30</td>
                                <td>‚Çπ24,000</td>
                                <td>‚Çπ20,000</td>
                                <td style="color: orange;">‚Çπ4,000</td>
                            </tr>
                            <tr>
                                <td>Selvam</td>
                                <td>PRJ001</td>
                                <td>28</td>
                                <td>‚Çπ22,400</td>
                                <td>‚Çπ22,400</td>
                                <td style="color: green;">‚Çπ0</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="cards-grid" style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));">
                    <div class="summary-card blue">
                        <div class="card-label">üìä Avg Cost Per Day</div>
                        <div class="card-value">‚Çπ820</div>
                    </div>
                    <div class="summary-card green">
                        <div class="card-label">‚úÖ Attendance Rate</div>
                        <div class="card-value">87%</div>
                    </div>
                    <div class="summary-card orange">
                        <div class="card-label">‚è∞ Overtime Cost</div>
                        <div class="card-value">‚Çπ45,000</div>
                    </div>
                </div>
            </div>

            <!-- 7. Outstanding & Payables -->
            <div class="summary-section" id="outstandingReport">
                <div class="section-title">‚ö†Ô∏è Outstanding & Payables Report</div>
                <div class="alert-box danger">
                    <strong>‚ö†Ô∏è Alert:</strong> 3 payments are overdue. Immediate action required!
                </div>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Type</th>
                                <th>Name</th>
                                <th>Project</th>
                                <th>Amount</th>
                                <th>Due Days</th>
                                <th>Priority</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Labour</td>
                                <td>Ramesh</td>
                                <td>PRJ001</td>
                                <td>‚Çπ6,600</td>
                                <td style="color: red; font-weight: bold;">12 days</td>
                                <td><span class="status-badge status-loss">üî¥ Overdue</span></td>
                            </tr>
                            <tr>
                                <td>Supplier</td>
                                <td>Steel Mart</td>
                                <td>PRJ001</td>
                                <td>‚Çπ1,20,000</td>
                                <td style="color: red; font-weight: bold;">8 days</td>
                                <td><span class="status-badge status-loss">üî¥ Overdue</span></td>
                            </tr>
                            <tr>
                                <td>Loan EMI</td>
                                <td>HDFC Bank</td>
                                <td>-</td>
                                <td>‚Çπ45,000</td>
                                <td style="color: red; font-weight: bold;">3 days</td>
                                <td><span class="status-badge status-loss">üî¥ Overdue</span></td>
                            </tr>
                            <tr>
                                <td>Labour</td>
                                <td>Kumar</td>
                                <td>PRJ002</td>
                                <td>‚Çπ4,000</td>
                                <td style="color: orange;">2 days</td>
                                <td><span class="status-badge status-risk">üü† Due Soon</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- 8. Profitability & Ratio Analysis -->
            <div class="summary-section" id="ratioAnalysis">
                <div class="section-title">üìä Profitability & Ratio Analysis</div>
                <div class="ratio-grid">
                    <div class="ratio-card">
                        <div class="ratio-name">Net Profit Margin</div>
                        <div class="ratio-formula">Profit / Revenue</div>
                        <div class="ratio-value">30.8%</div>
                        <div class="ratio-status" style="color: green;">üü¢ Excellent</div>
                    </div>
                    <div class="ratio-card">
                        <div class="ratio-name">Current Ratio</div>
                        <div class="ratio-formula">Current Assets / Current Liabilities</div>
                        <div class="ratio-value">1.8</div>
                        <div class="ratio-status" style="color: green;">üü¢ Healthy</div>
                    </div>
                    <div class="ratio-card">
                        <div class="ratio-name">DSCR</div>
                        <div class="ratio-formula">Cash Flow / Debt Service</div>
                        <div class="ratio-value">1.6</div>
                        <div class="ratio-status" style="color: green;">üü¢ Good</div>
                    </div>
                    <div class="ratio-card">
                        <div class="ratio-name">Labour Cost Ratio</div>
                        <div class="ratio-formula">Labour Cost / Revenue</div>
                        <div class="ratio-value">26%</div>
                        <div class="ratio-status" style="color: orange;">üü† Monitor</div>
                    </div>
                    <div class="ratio-card">
                        <div class="ratio-name">Material Cost Ratio</div>
                        <div class="ratio-formula">Material Cost / Revenue</div>
                        <div class="ratio-value">28%</div>
                        <div class="ratio-status" style="color: green;">üü¢ Optimal</div>
                    </div>
                    <div class="ratio-card">
                        <div class="ratio-name">ROI</div>
                        <div class="ratio-formula">Net Profit / Investment</div>
                        <div class="ratio-value">22.8%</div>
                        <div class="ratio-status" style="color: green;">üü¢ Strong</div>
                    </div>
                </div>
            </div>

            <!-- 9. Cash Flow Statement -->
            <div class="summary-section" id="cashFlow">
                <div class="section-title">üí∞ Cash Flow Statement</div>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Activity</th>
                                <th>Inflow (‚Çπ)</th>
                                <th>Outflow (‚Çπ)</th>
                                <th>Net (‚Çπ)</th>
                            </tr>
                            </thead> 
                        </table>
                </div>
            </div>    